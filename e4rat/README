---------- e4rat ----------

e4rat reduz o tempo de acesso ao disco por meio da realocação de arquivos físicos. Baseia-se
na desfragmentação ioctl EXT4_IOC_MOVE_EXT do sistema de arquivos ext4,
que foi introduzido no Kernel Linux 2.6.31. Portanto, outros tipos de sistemas de arquivos
ou versões anteriores do sistema de arquivos estendidos não são suportados.

O e4rat não tem sido mais atualizado, por esta razão este repositório existe, com algumas
atualizações importantes, como a correção de paths errados, compilação e a aceleração de
execução do e4rat-preload, que faz com que seu sistema inicie ainda mais rápido do que o
padrão do preload original.

---------- Informações ----------

e4rat consiste de três binários:

e4rat-collect: Reune arquivos relevantes através de um monitoramento dos acessos a arquivos
durante a inicialização do aplicativo. A lista de arquivos gerada é o fundamento da
segunda etapa.

e4rat realloc: Coloca os arquivos fisicamente enfileirados no disco. A realocação dos arquivos
produz uma taxa elevada de transferência de dados no disco, o que acelera o processo de
inicialização dos programas.

e4rat-preload: Transfere arquivos para a memória em paralelo a inicialização do programa.
Porque um arquivo consiste de conteúdo de arquivo e suas informações de I-Node do processo
de pré-carga é dividia em duas etapas. Primeiro, ele lê as informações dos I-Nodes que se
encontram ainda repartidos ao longo de todo o sistema de arquivos, depois o conteúdo dos
arquivos é lido sem causar qualquer busca no disco.

---------- Exemplo de Uso ----------

Execute o e4rat-collect em substituição ao seu init padrão. Para isso adicione
a seguinte linha nos parâmetros do kernel:

init=/sbin/e4rat-collect

Após o processo e4rat-collect terminar ele vai gerar uma lista de arquivos.
Ela está gravada em:

/var/lib/e4rat/startup.log

Antes de começar o processo de realocação, é recomendado que você mude para o runlevel 1,
assim você garante acesso de gravação a todos os processos binários:

init 1

Faça então a realocação:

e4rat-realloc /var/lib/e4rat/startup.log

Altere agora os paramêtros do kernel para carregar o preload do e4rat:

init=/sbin/e4rat-preload


---------- Dependências ----------

O e4rat possuí algumas dependências externas, são elas:
 - Kernel Linux (>= 2.6.31)
 - CMake (>= 2.6)
 - pod2man
 - Boost Library (>=1.41) [Necessita dos componentes: system, filesystem, regex, signals2]
 - Linux Audit Library (libaudit >=0.1.7)
 - Block Device Identification Library (libblkid)
 - Ext2 File System Utilities (e2fsprogs)


BUILDING
--------

The build system is based on CMake, which will generate a Makefile.
To build the release version of e4rat run the following command:
    cmake . -DCMAKE_BUILD_TYPE=release
    make

The default install prefix of e4rat is '/'. To use a different one 
add the command line parameter to
cmake as follow:
    cmake . -DCMAKE_INSTALL_PREFIX=/opt -DCMAKE_BUILD_TYPE=release

Once you have successfully built the source code install e4rat as root:
    make install

If you are running a Debian based Linux you can also install e4rat by
generating a Debian package:
    make package
    dpkg -i e4rat_<version>_<arch>.deb


---------- Autores ----------

e4rat foi desenvolvido por Andreas Rid <conso@hs-augsburg.de> sob a orientação
de Gundolf Kiefer <gundolf.kiefer@hs-augsburg.de> na Universidade de Ciências
aplicadas, Augsburg.

Este repositório está sendo mantido por Vinycius Maia <suportevg@uol.com.br>
podem existir autores externos em algumas atualizações, nesta situação, sendo
indicado no cabeçário do arquivo. 
